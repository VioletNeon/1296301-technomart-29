const writeMessage=document.querySelector(".button-write-message"),messagePopup=document.querySelector(".modal-feedback"),messageClose=document.querySelector(".modal-feedback .modal-close"),messageForm=document.querySelector(".name-form"),writeName=document.querySelector(".name-container input"),writeEmail=document.querySelector(".email-container input"),messageEntryField=document.querySelector(".email-container input"),mapLink=document.querySelector(".contacts-button-map"),mapPopup=document.querySelector(".modal-map"),mapClose=document.querySelector(".modal-map .modal-close"),pushBackward=document.querySelector(".button-backward"),pushForward=document.querySelector(".button-forward"),indicators=document.querySelectorAll(".slider-indicators button"),sliders=document.querySelectorAll(".slider-item"),addBasketPopup=document.querySelector(".modal-basket"),basketClose=document.querySelector(".modal-basket .modal-close"),pushBuy=document.querySelectorAll(".button-buy"),proceed=document.querySelector(".modal-proceed"),marker=document.querySelector(".marker"),basket=document.querySelector(".basket"),basketScore=document.querySelector(".basket-score"),markerScore=document.querySelector(".marker-score"),pushMarker=document.querySelectorAll(".button-marker");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name"),storage=localStorage.getItem("email"),storage=localStorage.getItem("message-field")}catch(a){isStorageSupport=!1}writeMessage&&writeMessage.addEventListener("click",function(a){a.preventDefault(),messagePopup.classList.add("modal-show"),storage&&(writeName.value=storage,writeEmail.value=storage,messageEntryField.value=storage),writeName.focus()}),messageClose&&messageClose.addEventListener("click",function(a){a.preventDefault(),messagePopup.classList.remove("modal-show"),messagePopup.classList.remove("modal-error")}),messageForm&&messageForm.addEventListener("submit",function(a){writeName.value&&writeEmail.value&&messageEntryField?isStorageSupport&&(localStorage.setItem("name",writeName.value),localStorage.setItem("email",writeEmail.value),localStorage.setItem("message-field",messageEntryField.value)):(a.preventDefault(),messagePopup.classList.remove("modal-error"),messagePopup.offsetWidth=messagePopup.offsetWidth,messagePopup.classList.add("modal-error"))}),messagePopup&&window.addEventListener("keydown",function(a){27===a.keyCode&&messagePopup.classList.contains("modal-show")&&(a.preventDefault(),messagePopup.classList.remove("modal-show"),messagePopup.classList.remove("modal-error"))}),mapLink&&mapLink.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("modal-show")}),mapClose&&mapClose.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.remove("modal-show")}),mapPopup&&window.addEventListener("keydown",function(a){27===a.keyCode&&mapPopup.classList.contains("modal-show")&&(a.preventDefault(),mapPopup.classList.remove("modal-show"))});let eventArrayIndicators=[];if(indicators.length)for(let a=0;a<indicators.length;a++)eventArrayIndicators.push(indicators[a].addEventListener("click",function(b){for(let a=0;a<indicators.length;a++)sliders[a].classList.remove("slide-current"),indicators[a].classList.remove("current");b.preventDefault(),sliders[a].classList.add("slide-current"),indicators[a].classList.add("current")}));sliders.length&&(pushForward.addEventListener("click",function(a){for(let b=0;b<sliders.length-1;b++)sliders[b].classList.contains("slide-current")&&(sliders[b].classList.remove("slide-current"),indicators[b].classList.remove("current"),sliders[b+1].classList.add("slide-current"),indicators[b+1].classList.add("current"),a.preventDefault())}),pushBackward.addEventListener("click",function(a){for(let b=sliders.length-1;0<b;b++)sliders[b].classList.contains("slide-current")&&(sliders[b].classList.remove("slide-current"),indicators[b].classList.remove("current"),sliders[b-1].classList.add("slide-current"),indicators[b-1].classList.add("current"),a.preventDefault())}));let pushBuysArray=[],pushMarkersArray=[],markerItem=0,basketItem=0;if(pushBuy.length)for(let a=0;a<pushBuy.length;a++)pushBuysArray.push(pushBuy[a].addEventListener("click",function(a){a.preventDefault(),addBasketPopup.classList.add("modal-show"),basketItem++,basket.textContent="\u041A\u043E\u0440\u0437\u0438\u043D\u0430: "+basketItem,basketScore.classList.add("add-basket")}));if(pushMarker.length)for(let a=0;a<pushMarker.length;a++)pushMarkersArray.push(pushMarker[a].addEventListener("click",function(a){a.preventDefault(),markerItem++,marker.textContent="\u0412 \u0437\u0430\u043A\u043B\u0430\u0434\u043A\u0438: "+markerItem,markerScore.classList.add("add-marker")}));basketClose&&basketClose.addEventListener("click",function(a){a.preventDefault(),addBasketPopup.classList.remove("modal-show")}),proceed&&proceed.addEventListener("click",function(a){a.preventDefault(),addBasketPopup.classList.remove("modal-show")}),addBasketPopup&&window.addEventListener("keydown",function(a){27===a.keyCode&&addBasketPopup.classList.contains("modal-show")&&(a.preventDefault(),addBasketPopup.classList.remove("modal-show"))});
